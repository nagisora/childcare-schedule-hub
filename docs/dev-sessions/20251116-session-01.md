# 2025-11-16 セッション 01（フェーズ0: 準備）

## フェーズ / 目的
- フェーズ: 0 準備（環境 / ドキュメント）
- 目的:
  - WSL2(Ubuntu 24.04) で `pnpm dev --filter apps/web` を実行できる状態を作る
  - ランタイム管理を mise に統一し、導線をドキュメントへ反映する

## 実施内容（抜粋）
- OS レベル最小パッケージの整備（mise 管理対象は apt で入れない）
  - apt: build-essential, git, curl, ca-certificates, pkg-config, unzip
- mise 導入・ツール定義
  - 追加: `mise.toml`（node=LTS, pnpm=latest）
  - 実行: `mise trust -y mise.toml` → `mise install`
- monorepo 最小構成の追加（起動確認用）
  - ルート: `pnpm-workspace.yaml`, `package.json`
  - `apps/web`: Next.js 15（app ルータ）最小構成、TS/ESLint 設定
  - `.gitignore`: `.next` / env / logs など除外を追加
- 依存インストール・開発起動
  - `mise exec -- pnpm install`
  - `mise exec -- pnpm --filter web dev`（3001 で起動）
- ドキュメント更新（mise 前提の導線）
  - `README.md`: セットアップを mise 前提（trust/install/exec）に
  - `docs/README.md`: mise の入口を追記
  - `docs/04-development.md`: 初期準備・dev 起動を `mise exec -- pnpm` に統一

## 結果（フェーズ0完了条件の確認）
- 「ローカル開発が即開始できる状態」: OK（mise 手順 + dev 起動確認済み）
- 「00/04 からの導線」: OK（README/00/04 を更新し、mise 前提を明記）

## ふりかえり / 気づき
- gh CLI での PR 作成時、本文の改行がエスケープ（`\n` 文字）になって表示崩れ。`gh pr edit --body` で実際の改行を含む本文へ修正し解消。
- `pnpm dev --filter apps/web` は `pnpm --filter web dev` の順序が正。前者でエラーになったため以後後者を使用。
- `apps/web/tsconfig.json` を Next.js 推奨に近い形へ微調整（skipLibCheck, esModuleInterop, next plugin 等）。

## 持ち越し（フェーズ1以降）
- 01 要件具体化と Supabase 設計/接続の検討
- 02 UI ラフ/チェックリストの整備

## 参照リンク
- PR: https://github.com/nagisora/childcare-schedule-hub/pull/5
- 開発フェーズ方針: `docs/05-development-phases.md`
- セットアップ手順（mise 前提）: `README.md` / `docs/04-development.md` / `docs/README.md`


