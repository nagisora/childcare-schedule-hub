# チェックリスト式実装計画書: 2025-12-22

> **セッションとは**: このプロジェクトにおける「セッションの定義」は `docs/dev-sessions/session-definition.md` を参照。
>
> **重要（AI作業時）**: このセッションファイルは `date` コマンドで現在日付（`20251222`）を取得したうえで作成している。

## セッション概要とゴール

### 概要

- 一言サマリ: フェーズ10タスク1（取得仕様・理由コード）を確定し、成果物を `phase-artifacts` に整理して参照導線を整える
- 対応フェーズ: フェーズ10
- セッション種別: ドキュメント整備
- 実行方式: AI自律
- 影響範囲: `docs/05-10-schedule-url-coverage.md` / `docs/05-00-development-phases.md` / `docs/phase-artifacts/10-schedule-url-coverage/*`
- 日付: 2025-12-22
- 想定所要時間: 20〜40分

### ゴール

- **ゴール**: タスク1の仕様（対象月・分類・理由コード）がブレない正本として確定し、後続タスク（2〜6）が迷わず進められる
  - 完了条件:
    - [x] `docs/phase-artifacts/10-schedule-url-coverage/task-01-spec.md` にタスク1の仕様がまとまっている
    - [x] `docs/phase-artifacts/10-schedule-url-coverage/reason-codes.md` に理由コードの正本があり、対象施設の定義と矛盾しない
    - [x] `docs/05-10-schedule-url-coverage.md` のタスク1チェックリストから上記ドキュメントへリンクできる

### 関連ドキュメント

- `docs/05-10-schedule-url-coverage.md`（フェーズ10詳細・進捗管理の正本）
- `docs/05-00-development-phases.md`（フェーズ10の定義・完了条件）
- `docs/phase-artifacts/10-schedule-url-coverage/README.md`（添付資料の運用）

## 前提・合意事項（事前議論・壁打ちメモ）

- 今日のセッションで前提とする方針:
  - 対象月は **Asia/Tokyo** の「現在月」を基準にする
  - 「登録済み」は `schedules.instagram_post_url` が妥当形式で入っていること
  - null/形式不正は未処理扱いとして再検索対象にする（誤登録防止を優先）
  - 未特定確定/対象外は **DBに無理に保存せず**、理由コード付きの出力（JSON/Markdown/CSV）を証跡とする

---

## 実装チェックリスト（本セッションにおける）

### 1. 作業タスク & 実行内容（ドキュメント更新）

- [x] タスク1: フェーズ10の添付資料フォルダ（`docs/phase-artifacts/10-schedule-url-coverage/`）を作成し、運用ルールを明文化する
  - 完了条件: `README.md` があり、正本/ログ/成果物の役割が分離されている
- [x] タスク2: タスク1の仕様（対象月・分類・判定フロー・出力スキーマ）を `task-01-spec.md` として確定する
  - 完了条件: 後続タスク（API/CLI/UPSERT/品質チェック）がこの仕様に沿って実装できる
- [x] タスク3: 理由コード正本（`reason-codes.md`）を整備し、対象施設の定義や保存方針（DBに作らない）と矛盾しないようにする
  - 完了条件: `NO_INSTAGRAM` 等の矛盾がなく、集計例がDB前提になっていない
- [x] タスク4: `docs/05-10-schedule-url-coverage.md` のタスク1チェックに証跡リンク（本セッション）を付与する
  - 完了条件: `05-10` から `phase-artifacts` と `dev-sessions` に辿れる

### 2. 検証・テスト（確認方法）

- [x] 確認1: `docs/05-00-development-phases.md`（フェーズ10節）と `docs/05-10-schedule-url-coverage.md` の矛盾がない
      - 期待結果: 対象施設定義・処理済み定義・理由コードの考え方が整合している

---

## 実施ログ

- メモ:
  - `phase-artifacts` 内で「正本（05-10）/ログ（dev-sessions）/成果物（phase-artifacts）」を明確に分離する方針を採用
  - 理由コードはDBに保存する前提にしない（MVPでは出力ファイルが証跡）

## 結果とふりかえり

- 完了できたタスク:
  - [x] フェーズ10タスク1の仕様確定（`task-01-spec.md`）
  - [x] 理由コード正本の整備（`reason-codes.md`）
  - [x] 参照導線の整備（`05-10` → `phase-artifacts` / `dev-sessions`）

## 次回に持ち越すタスク

- なし（持ち越しが無い場合）


