# フェーズ<番号>詳細: <フェーズ名>

## 1. 概要

- **対応フェーズ**: フェーズ<番号>
- **目的**: <このフェーズで達成したいことの簡潔な説明>
- **スコープ**: <このフェーズで対象とする範囲>
- **非スコープ**: <このフェーズでは扱わないこと（将来のフェーズや別タスクに回すもの）>
- **完了条件**: 
  - <完了条件1>
  - <完了条件2>
  - <完了条件3>
- **関連ドキュメント**:
  - `docs/05-00-development-phases.md`（フェーズ<番号>セクション）
  - <その他の関連ドキュメントへのリンク>

## 2. 前提・制約

- **規約・利用条件**: 
  - <外部APIやサービスの利用規約、スクレイピングガイドラインなど>
- **コスト・レート制限**: 
  - <API呼び出しの料金、1日あたりの上限、レート制限など>
- **データ品質要件**: 
  - <データの正確性、重複チェック、バリデーション要件など>
- **技術的制約**: 
  - <既存システムとの互換性、パフォーマンス要件など>

## 3. 実装計画

> このセクションは、フェーズ全体の実装計画をまとめたものです。  
> 各タスクの詳細な完了条件・検証方法・dev-sessions粒度については、個別のセッションで具体化していきます。

### タスク1: <タスク名>

- **完了条件**:  
  - <完了条件1>
  - <完了条件2>
- **検証方法**:  
  - <検証手順1>
  - <検証手順2>
- **dev-sessions粒度**:  
  - <想定セッション数・所要時間>
- **更新先ドキュメント**: 
  - <このタスクで更新するドキュメントのパス（例: `docs/04-development.md`, `docs/instagram-integration/*`）>

### タスク2: <タスク名>

- **完了条件**:  
  - <完了条件1>
  - <完了条件2>
- **検証方法**:  
  - <検証手順1>
  - <検証手順2>
- **dev-sessions粒度**:  
  - <想定セッション数・所要時間>
- **更新先ドキュメント**: 
  - <このタスクで更新するドキュメントのパス>

### タスク3: <タスク名>

- **完了条件**:  
  - <完了条件1>
  - <完了条件2>
- **検証方法**:  
  - <検証手順1>
  - <検証手順2>
- **dev-sessions粒度**:  
  - <想定セッション数・所要時間>
- **更新先ドキュメント**: 
  - <このタスクで更新するドキュメントのパス>

（必要に応じてタスク4以降を追加）

## 4. 品質チェック

- **データ品質チェック**: 
  - <チェック項目1（例: SQLクエリで重複を検出）>
  - <チェック項目2（例: 不正なURL形式の検出）>
  - <チェック項目3（例: 必須フィールドの欠損チェック）>
- **検証クエリ例**: 
  ```sql
  -- 例: 重複URLの検出
  SELECT <column>, COUNT(*) 
  FROM <table> 
  WHERE <condition> 
  GROUP BY <column> 
  HAVING COUNT(*) > 1;
  ```
- **チェック実施タイミング**: 
  - <いつチェックを実施するか（例: データ投入後、フェーズ完了前など）>

## 5. Runbook反映ポイント

最終的に `docs/04-development.md` に落とすべき運用手順のチェックリスト：

- [ ] 環境変数の設定手順（`docs/04-development.md` の環境変数セクション）
- [ ] API呼び出しの標準フロー（`docs/04-development.md` または関連Runbook）
- [ ] フォールバック手順（標準フローが失敗した場合の代替手段）
- [ ] エラーハンドリング方針（エラー時のログ・通知・リトライ方針）
- [ ] データ更新フロー（手動・自動の更新手順）
- [ ] トラブルシューティング手順（よくある問題と対処法）

## 6. リスク・撤退条件・ロールバック

- **リスク**: 
  - <リスク1（例: APIのレート制限に達する可能性）>
  - <リスク2（例: 外部サービスの仕様変更）>
- **撤退条件**: 
  - <諦める条件（例: 検索APIのコストが予算を超える、データ品質が一定基準を下回る）>
- **ロールバック手順**: 
  - <問題が発生した場合に元に戻す手順（例: データベースのバックアップからの復元、環境変数の削除）>
- **フォールバック手順**: 
  - <標準フローが使えない場合の代替手段（例: 手動ブラウザ検索、既存データの再利用）>

## 7. 将来の拡張・メモ

- **拡張候補**: 
  - <将来検討する可能性のある機能・改善点>
- **運用上の注意**: 
  - <運用時に気をつけるべき点、定期的なメンテナンス項目など>
- **関連する将来フェーズ**: 
  - <このフェーズの結果を活用する将来のフェーズへの言及>
