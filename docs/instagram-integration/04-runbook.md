# 04 運用手順書

## 概要

Instagram連携によるスケジュールURL取得・管理の運用手順をまとめる。

**注意**: 本ドキュメントは確定後に `docs/04-development.md` 9.6節へ転記予定。

---

## 手動入力フロー

### 前提条件

- Supabase プロジェクトが作成済み
- `facilities` テーブルに施設データが登録済み
- `schedules` テーブルが作成済み（[02 設計資料](../02-design.md) 3.3節参照）

### 手順

#### 1. InstagramアカウントURLの確認

**方法A: 自治体サイトから確認**
- （手順）

**方法B: スクレイピングスクリプトで取得**
- （手順）

#### 2. スケジュールURLの確認

1. Instagramアカウントにアクセス
2. 月間スケジュールの投稿を確認
3. スケジュールURL（Googleドライブ、自治体サイト等）を特定

#### 3. schedulesテーブルへの登録

**Supabase Studio での操作**:
- （手順）

**SQLでの操作**:
- （SQL例）

---

## データ投入手順

### バッチ投入（複数施設）

（複数施設を一度に登録する場合の手順）

### 個別投入

（1施設ずつ登録する場合の手順）

---

## 更新・メンテナンス

### 定期更新

**更新頻度**: （月1回？）

**更新手順**:
1. （手順）
2. （手順）

### エラー対応

**埋め込み表示が失敗する場合**:
- （対処方法）

**投稿URLが無効になった場合**:
- （対処方法）

---

## 確認・検証

### データ整合性チェック

（登録データの確認方法）

### 表示確認

（Webアプリでの表示確認方法）

---

## トラブルシューティング

### よくある問題

| 問題 | 原因 | 対処方法 |
|------|------|----------|
| （例） | （例） | （例） |

---

## 参考資料

- [02 設計資料](../02-design.md) - schedulesテーブル定義
- [03 API 仕様](../03-api.md) - Instagram Embed API仕様
- [04 開発ガイド](../04-development.md) - スクレイピングガイドライン

