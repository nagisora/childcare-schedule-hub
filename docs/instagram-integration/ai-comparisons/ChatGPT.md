子育て拠点のInstagram URLを**自動で・高精度で特定**したい、ということですね。
結論から言うと、**Google検索をブラウザ操作で行う方法は不安定**なので、もっと確実なアプローチがあります。

以下に、**実用性が高く、精度の高い方法を順番に紹介**します。

---

# ✅ Instagram URL を特定する“より良い方法”

## **方法①：Instagram公式検索APIの代替として「非公式API + スクレイピング」を使う（最も精度高い）**

Instagramは公式APIが厳しく、検索機能は提供されていませんが、
**ユーザーネーム補完用の非公開エンドポイント**が存在します。

例：

```
https://www.instagram.com/web/search/topsearch/?query=こころと
```

これを叩くと、候補のアカウント一覧が JSON で返り、
`kokoroto.hiroba` のような**ほぼ正解のIDが数件リストで返る**ので特定しやすいです。

### メリット

* 精度高い（ほぼ必ず候補が出る）
* Google検索より高速・安定
* AIが見逃すことがない

### デメリット

* Instagram内部APIなのでアクセス制限に注意（大量リクエストはNG）

---

# 方法②：**候補となるユーザーネームを生成 → 存在チェックを自動化する**

施設のInstagramはだいたい次のような傾向があります。

例：「こころと」

* `kokoroto`
* `kokoroto.hiroba`
* `kokoroto_hiroba`
* `hiroba_kokoroto`
* `kokoroto_official`
  など

### 自動化の流れ

1. 名前から候補となるIDを10〜20個生成
2. `https://www.instagram.com/ユーザーネーム/` にアクセス
3. **存在する場合は profile JSON が返り、404なら存在しない**
4. プロフィールの説明文に「こころと」「子育て」「広場」があるか確認
5. 正解を確定

### メリット

* Google検索不要
* 高速（数秒）
* 自動化しやすい

---

# 方法③：Google Custom Search API を使う（正確 × 安定）

Google検索をAIにブラウザ操作させるのは不安定ですが、
**Google Custom Search API**なら安定して結果を取れます。

検索ワード例：

```
"こころと" 子育て instagram site:instagram.com
```

ここから出てきたURLをそのまま採用すればOK。

### メリット

* ほぼ確実に正しいアカウントがトップに出る
* 抽出が安定していて再現性が高い

### デメリット

* API利用に少し費用がかかる（無料枠あり）

---

# 方法④：施設の公式サイト → SNSリンクをクロールする

子育て拠点は自治体やNPOが運営していることが多く、
**公式サイトにInstagramリンクが置いてあることが多い**です。

### フロー

1. 「こころと 子育て拠点」などで公式サイトを検索
2. HTMLから `<a href="https://www.instagram.com/...">` を抽出
3. Instagramアカウントを発見 → 完了

### メリット

* 正確性100%
* 一度ヒットすれば確実

### デメリット

* 公式サイトがない場合やSNSリンクがない場合は使えない

---

# 方法⑤：最終手段：Google検索をAIにやらせる（ただし**安定化対策あり**）

ブラウザ操作の失敗はよくあるので、
**検索結果のHTMLだけを直接クロールして分析**したほうが安定します。

フロー：

1. Google検索結果のHTMLを取得（API or HTML）
2. `<a>`タグの `href` に含まれる Instagram のURLを抽出
3. Instagramプロフィールをクロールして判定

→ ブラウザで表示を読むより圧倒的に安定

---

# 🔥 結論：最もコスパの良い方法は？

## **💯 おすすめ No.1**

### **① Instagram内部検索API（非公開エンドポイント）+ ④ プロフィール内容チェック**

速い・正確・コードが簡単。

## **次点**

### **② ユーザーネーム候補生成 + 存在チェック**

安定して動くし、コストほぼゼロ。

---

# 必要なら…

➡ **Node.js / Python で動く “Instagram URL サーチャー” のサンプルコードも作れます。**
➡ “自動で全ての拠点の Instagram を特定するバッチ処理” も設計できます。

欲しければ言ってください！
